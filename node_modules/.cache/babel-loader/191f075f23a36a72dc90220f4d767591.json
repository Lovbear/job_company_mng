{"remainingRequest":"/Users/edz/BBt/job_company_mng/node_modules/babel-loader/lib/index.js!/Users/edz/BBt/job_company_mng/node_modules/eslint-loader/index.js??ref--13-0!/Users/edz/BBt/job_company_mng/src/unit/request.js","dependencies":[{"path":"/Users/edz/BBt/job_company_mng/src/unit/request.js","mtime":1583559679442},{"path":"/Users/edz/BBt/job_company_mng/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/edz/BBt/job_company_mng/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/edz/BBt/job_company_mng/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvZWR6L0JCdC9qb2JfY29tcGFueV9tbmcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyIpOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7Cgp2YXIgX2F4aW9zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJheGlvcyIpKTsKCnZhciBfZWxlbWVudFVpID0gcmVxdWlyZSgiZWxlbWVudC11aSIpOwoKdmFyIF9zdG9yZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi4vc3RvcmUiKSk7CgovLyDliJvlu7pheGlvc+WunuS+iwp2YXIgc2VydmljZSA9IF9heGlvcy5kZWZhdWx0LmNyZWF0ZSh7CiAgYmFzZVVSTDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX0FQSSwKICAvLyBhcGnnmoRiYXNlX3VybAogIHRpbWVvdXQ6IDE1MDAwIC8vIOivt+axgui2heaXtuaXtumXtAoKfSk7IC8vIHJlcXVlc3Tmi6bmiKrlmagKCgpzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgaWYgKF9zdG9yZS5kZWZhdWx0LmdldHRlcnMudG9rZW4pIHsKICAgIGNvbmZpZy5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSBnZXRUb2tlbigpOyAvLyDorqnmr4/kuKror7fmsYLmkLrluKboh6rlrprkuYl0b2tlbiDor7fmoLnmja7lrp7pmYXmg4XlhrXoh6rooYzkv67mlLkKICB9CgogIHJldHVybiBjb25maWc7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIC8vIERvIHNvbWV0aGluZyB3aXRoIHJlcXVlc3QgZXJyb3IKICBjb25zb2xlLmxvZyhlcnJvcik7IC8vIGZvciBkZWJ1ZwoKICBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOyAvLyByZXNwb25l5oum5oiq5ZmoCgpzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgLyoqCiAgKiBjb2Rl5Li66Z2eMjAw5piv5oqb6ZSZIOWPr+e7k+WQiOiHquW3seS4muWKoei/m+ihjOS/ruaUuQogICovCiAgdmFyIHJlcyA9IHJlc3BvbnNlLmRhdGE7CgogIGlmIChyZXMuY29kZSAhPT0gMjAwKSB7CiAgICAoMCwgX2VsZW1lbnRVaS5NZXNzYWdlKSh7CiAgICAgIG1lc3NhZ2U6IHJlcy5tZXNzYWdlLAogICAgICB0eXBlOiAnZXJyb3InLAogICAgICBkdXJhdGlvbjogMyAqIDEwMDAKICAgIH0pOyAvLyA0MDE65pyq55m75b2VOwogICAgLy8gaWYgKHJlcy5jb2RlID09PSA0MDEpIHsKICAgIC8vICAgTWVzc2FnZUJveC5jb25maXJtKCfkvaDlt7Looqvnmbvlh7rvvIzlj6/ku6Xlj5bmtojnu6fnu63nlZnlnKjor6XpobXpnaLvvIzmiJbogIXph43mlrDnmbvlvZUnLCAn56Gu5a6a55m75Ye6JywgewogICAgLy8gICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn6YeN5paw55m75b2VJywKICAgIC8vICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgIC8vICAgICB0eXBlOiAnd2FybmluZycKICAgIC8vICAgfSkudGhlbigoKSA9PiB7CiAgICAvLyAgICAgc3RvcmUuZGlzcGF0Y2goJ0ZlZExvZ091dCcpLnRoZW4oKCkgPT4gewogICAgLy8gICAgICAgbG9jYXRpb24ucmVsb2FkKCkvLyDkuLrkuobph43mlrDlrp7kvovljJZ2dWUtcm91dGVy5a+56LGhIOmBv+WFjWJ1ZwogICAgLy8gICAgIH0pCiAgICAvLyAgIH0pCiAgICAvLyB9CgogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdlcnJvcicpOwogIH0gZWxzZSB7CiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICB9Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIGNvbnNvbGUubG9nKCdlcnInICsgZXJyb3IpOyAvLyBmb3IgZGVidWcKCiAgKDAsIF9lbGVtZW50VWkuTWVzc2FnZSkoewogICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSwKICAgIHR5cGU6ICdlcnJvcicsCiAgICBkdXJhdGlvbjogMyAqIDEwMDAKICB9KTsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKdmFyIF9kZWZhdWx0ID0gc2VydmljZTsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},{"version":3,"sources":["/Users/edz/BBt/job_company_mng/src/unit/request.js"],"names":["service","axios","create","baseURL","process","env","VUE_APP_BASE_API","timeout","interceptors","request","use","config","store","getters","token","headers","getToken","error","console","log","Promise","reject","response","res","data","code","message","type","duration"],"mappings":";;;;;;;;;;;AAAA;;AACA;;AACA;;AAEA;AACA,IAAMA,OAAO,GAAGC,eAAMC,MAAN,CAAa;AAC3BC,EAAAA,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC,gBADM;AACY;AACvCC,EAAAA,OAAO,EAAE,KAFkB,CAEZ;;AAFY,CAAb,CAAhB,C,CAKA;;;AACAP,OAAO,CAACQ,YAAR,CAAqBC,OAArB,CAA6BC,GAA7B,CAAiC,UAAAC,MAAM,EAAI;AACzC,MAAIC,eAAMC,OAAN,CAAcC,KAAlB,EAAyB;AACzBH,IAAAA,MAAM,CAACI,OAAP,CAAe,eAAf,IAAkCC,QAAQ,EAA1C,CADyB,CACoB;AAC5C;;AACD,SAAOL,MAAP;AACD,CALD,EAKG,UAAAM,KAAK,EAAI;AACV;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,EAFU,CAES;;AACnBG,EAAAA,OAAO,CAACC,MAAR,CAAeJ,KAAf;AACD,CATD,E,CAWA;;AACAjB,OAAO,CAACQ,YAAR,CAAqBc,QAArB,CAA8BZ,GAA9B,CACE,UAAAY,QAAQ,EAAI;AACZ;;;AAGE,MAAMC,GAAG,GAAGD,QAAQ,CAACE,IAArB;;AACA,MAAID,GAAG,CAACE,IAAJ,KAAa,GAAjB,EAAsB;AACpB,4BAAQ;AACNC,MAAAA,OAAO,EAAEH,GAAG,CAACG,OADP;AAENC,MAAAA,IAAI,EAAE,OAFA;AAGNC,MAAAA,QAAQ,EAAE,IAAI;AAHR,KAAR,EADoB,CAOpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,WAAOR,OAAO,CAACC,MAAR,CAAe,OAAf,CAAP;AACD,GApBD,MAoBO;AACL,WAAOC,QAAQ,CAACE,IAAhB;AACD;AACF,CA7BH,EA8BE,UAAAP,KAAK,EAAI;AACPC,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAQF,KAApB,EADO,CACmB;;AAC1B,0BAAQ;AACNS,IAAAA,OAAO,EAAET,KAAK,CAACS,OADT;AAENC,IAAAA,IAAI,EAAE,OAFA;AAGNC,IAAAA,QAAQ,EAAE,IAAI;AAHR,GAAR;AAKA,SAAOR,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACD,CAtCH;eAyCejB,O","sourcesContent":["import axios from 'axios'\nimport { Message, MessageBox } from 'element-ui'\nimport store from '../store'\n\n// 创建axios实例\nconst service = axios.create({\n  baseURL: process.env.VUE_APP_BASE_API, // api的base_url\n  timeout: 15000 // 请求超时时间\n})\n\n// request拦截器\nservice.interceptors.request.use(config => {\n  if (store.getters.token) {\n\t\tconfig.headers['Authorization'] = getToken() // 让每个请求携带自定义token 请根据实际情况自行修改\n  }\n  return config\n}, error => {\n  // Do something with request error\n  console.log(error) // for debug\n  Promise.reject(error)\n})\n\n// respone拦截器\nservice.interceptors.response.use(\n  response => {\n  /**\n  * code为非200是抛错 可结合自己业务进行修改\n  */\n    const res = response.data\n    if (res.code !== 200) {\n      Message({\n        message: res.message,\n        type: 'error',\n        duration: 3 * 1000\n      })\n\n      // 401:未登录;\n      // if (res.code === 401) {\n      //   MessageBox.confirm('你已被登出，可以取消继续留在该页面，或者重新登录', '确定登出', {\n      //     confirmButtonText: '重新登录',\n      //     cancelButtonText: '取消',\n      //     type: 'warning'\n      //   }).then(() => {\n      //     store.dispatch('FedLogOut').then(() => {\n      //       location.reload()// 为了重新实例化vue-router对象 避免bug\n      //     })\n      //   })\n      // }\n      return Promise.reject('error')\n    } else {\n      return response.data\n    }\n  },\n  error => {\n    console.log('err' + error)// for debug\n    Message({\n      message: error.message,\n      type: 'error',\n      duration: 3 * 1000\n    })\n    return Promise.reject(error)\n  }\n)\n\nexport default service\n"]}]}